<app-home></app-home>
<div class="p-5">
    <app-progress-button
    [currentScore]="totalScore"
    label="Ballar"
    ></app-progress-button>
  </div>

  <div class="p-6 bg-white rounded-lg shadow-md w-full max-w-md mx-auto text-center">
    <h2 class="text-xl font-bold mb-4">ğŸ‰ Tabriklaymiz!</h2>
  
    <!-- Agar hali 1000 ball toâ€˜plamagan boâ€˜lsa -->
    <div *ngIf="totalScore < 1000; else rewardBlock">
      <p class="text-gray-700 font-medium mb-2">
        Siz hozirda <strong>{{ totalScore }}</strong> ball toâ€˜plagansiz.
      </p>
      <p class="text-orange-500 font-semibold">
        Ragâ€˜bat olish uchun yana <strong>{{ pointsLeft }}</strong> ball toâ€˜plashingiz kerak.
      </p>
    </div>
  
    <!-- Aks holda (1000 yoki koâ€˜proq ball boâ€˜lsa) -->
    <ng-template #rewardBlock>
      <div *ngIf="!isAlreadySent; else sentBlock" class="space-y-4">
        <p class="mb-2 text-green-700 font-semibold">
          Siz 1000 ball toâ€˜pladingiz! ğŸ Sovgâ€˜ani olish uchun Telegram username'ingizni yuboring:
        </p>
  
        <input
          [(ngModel)]="telegramUsername"
          class="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring focus:border-orange-500"
          placeholder="@username"
          [disabled]="disableInput"
        />
  
        <button
          class="w-full bg-orange-500 text-white py-2 rounded font-semibold hover:bg-orange-600 disabled:opacity-50"
          (click)="sendUsername()"
          [disabled]="disableInput || !telegramUsername"
        >
          Yuborish
        </button>
      </div>
  
      <ng-template #sentBlock>
        <p class="text-green-600 font-semibold">Siz allaqachon ragâ€˜bat olgansiz. ğŸ</p>
      </ng-template>
    </ng-template>
  </div>
  
  
  
